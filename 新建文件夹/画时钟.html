<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			onload = function(){
				var can = document.getElementById('can');
				var canvas = can.getContext('2d');
				can.style.background = 'red';
				draw();//需要在函数之前再调用一次 
				function draw(){
					var x = 200;
					var y = 200;
					var r = 150;
					var date = new Date();
					var hourse = date.getHours();
					var minute = date.getMinutes();
					var second = date.getSeconds();
					canvas.beginPath();
					for(var i=0;i<60;i++){
						canvas.moveTo(x,y);
						canvas.arc(x,y,r,Math.PI*6*i/180,Math.PI*6*(i+1)/180,false);
					}
					canvas.closePath();
					canvas.stroke();
					
					canvas.beginPath();
					for(var i=0;i<60;i++){
						canvas.moveTo(x,y);
						canvas.fillStyle = 'red';
						canvas.arc(x,y,r*19/20,Math.PI*6*i/180,Math.PI*6*(i+1)/180,false);
					}
					canvas.closePath();
					canvas.fill();
					
					canvas.beginPath();
					for(var i=0;i<30;i++){
						canvas.moveTo(x,y);
						canvas.lineWidth = 4;
						canvas.arc(x,y,r,Math.PI*30*i/180,Math.PI*30*(i+1)/180,false);
					}
					canvas.closePath();
					canvas.stroke();
					
					canvas.beginPath();
					for(var i=0;i<60;i++){
						canvas.moveTo(x,y);
						canvas.fillStyle = 'red';
						canvas.arc(x,y,r*18/20,Math.PI*30*i/180,Math.PI*30*(i+1)/180,false);
					}
					canvas.closePath();
					canvas.fill();
					
					canvas.beginPath();
					canvas.moveTo(x,y);
					canvas.lineWidth = 5;
					canvas.fillStyle = 'red';
					canvas.arc(x,y,r/2,(Math.PI*(30*hourse-90+minute/2))/180,(Math.PI*(30*hourse-90+minute/2))/180);//时钟
					canvas.closePath();
					canvas.stroke();
					
					canvas.beginPath();
					canvas.moveTo(x,y);
					canvas.lineWidth = 3;
					canvas.fillStyle = 'red';
					canvas.arc(x,y,r*14/20,(Math.PI*(6*minute-90))/180,(Math.PI*(6*minute-90))/180); //分钟
					canvas.closePath();
					canvas.stroke();
					
					canvas.beginPath();
					canvas.moveTo(x,y);
					canvas.fillStyle = 'red';
					canvas.arc(x,y,r,(Math.PI*(6*second-90))/180,(Math.PI*(6*second-90))/180); //秒钟
					canvas.closePath();
					canvas.stroke();
				}
				
				setInterval(draw,1000);
			}
		</script>
	</head>
	<body>
		<canvas id="can" width="600" height="600"></canvas>
	</body>
</html>
